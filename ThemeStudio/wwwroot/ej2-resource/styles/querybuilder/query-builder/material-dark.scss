
$qrybldr-width: auto !default;
$qrybldr-height: auto !default;
$qrybldr-brdr: 1px solid !default;
$qrybldr-btngrp-brdr: none !default;
$grpcon-padding: 12px !default;
$qrybldr-device-diaplay: inline-block !default;
$group-action-margin: 12px !default;
$group-action-widthhgt: 1.7em !default;
$groupbody-paddingleft: 20px !default;
$rulecon-height: auto !default;
$rulecon-padding: 12px 0 12px 12px !default;
$hrmode-ruledlt-mrgn: 12px !default;
$vrmode-ruledlt-mrgnpos: absolute !default;
$qrybldr-rulelist-grcon-float: right !default;
$qrybldr-rulelist-grcon-width: 100% !default;
$qrybldr-button-hide: none !default;
$qrybldr-field: left !default;
$ruledelete-margin: 12px !default;
$radio-wrapper-margin: 15px !default;
$ruledelete-shadow: none !default;
$qrybldr-group-container-margin-top: 12px !default;
$qrybldr-group-container-margin-left: 0 !default;
$qrybldr-posn-relative: relative !default;
$rule-boxshadow:  0 2px 6px $grey-800 !default;
$qrybldr-rule-list-first-left: -12px !default;
$qrybldr-rule-list-first-right: -12px !default;
$qrybldr-rule-list-before-top: -10px !default;
$qrybldr-rule-list-after-border: 0 0 0 2px !default;
$qrybldr-rule-list-before-border: 0 0 2px 2px !default;
$qrybldr-rule-list-rtl-after-border: 0 2px 0 0 !default;
$qrybldr-rule-list-rtl-before-border: 0 2px 2px 0 !default;
$qrybldr-rule-list-border-style: dotted !default;
$group-action-mrgntop: 0 !default;
$before-border-height: calc(50% + 14px) !default;
$after-border-height: calc(50% + 8px) !default;
$qrybldr-add-icon: '\e963' !default;
$qrybldr-delete-icon: '\e945' !default;
$bigger-group-action-margin: 16px !default;
$bigger-groupbody-paddingleft: 24px !default;
$bigger-hrmode-ruledlt-mrgn: 16px !default;
$bigger-rulecon-padding: 16px 0 16px 16px !default;
$device-rule-padding: 16px 0 0 16px !default;
$bigger-ruledelete-marginleft: 8px !default;
$qrybldr-brdr-color: $grey-700 !default;
$qrybldr-bg-color: $grey-dark !default;
$qrybldr-color: $grey-dark-font !default;
$qrybldr-btngroup-active-bgcolor: $accent !default;
$qrybldr-btngroup-active-color:  $accent-font !default;
$qrybldr-rule-list-border-color: $grey-700 !default;
$groupborder-color: $grey-700 !default;
$groupfill-color: $grey-800 !default;
$groupfill-bgcolor: $groupfill-color !default;
$qrybldr-rule-border: none !default;
$qrybldr-rule-list-after-height: calc(100% - 17px) !default;
$qrybldr-rule-list-height: 25px !default;
$qrybldr-rule-list-top: 17px !default;
$qrybldr-nav-width: 10px !default;
$qrybldr-rule-container-after-height: calc(50% + 6px) !default;
$qrybldr-rule-container-after-top: calc(50% - 3px) !default;
$qrybldr-grpcon-brder-left: none !default;
$bigger-rule-list-first-top: -16px !default;
$qrybldr-rulecont-margin: 0 !default;
$device-rulecon-padding: 16px !default;
$qrybldr-rulelist: 12px 0 12px 0 !default;
$qrybldr-bigger-rulelist: 15px 0 15px 0 !default;
$qrybldr-add-mrgn-btm: 2px !default;
$device-rulecon-right-padding: 0 !default;
$qrybldr-summary-padding: 12px !default;
$qrybldr-summary-btn-padding: 8px 0 5px 8px !default;
$qrybldr-bigger-summary-padding: 16px !default;
$qrybldr-bigger-summary-btn-padding: 8px 0 5px 8px !default;
$qrybldr-summary-text-width: 100% !default;
$qrybldr-clspe-rule-pos: absolute !default;
$qrybldr-btngrp-shadow: none !default;
$qrybldr-multi-width: 190px !default;
$qrybldr-device-value-width: 100% !default;
$qrybldr-btngroup-display: inline-block !default;
$qrybldr-grpcon-aftrbrder-left: -12px !default;
$after-ruleborder-height: calc(50% + 12px) !default;
$qrybldr-val-error-bg-color: #fcdbe4 !default;
$qrybldr-val-error-color: #f44336 !default;
$qrybldr-val-error-border: 8px solid !default;
$biggerafter-ruleborder-height: calc(50% + 12px) !default;
$qrybldr-bigger-rule-list-before-top: -12px !default;
$qrybldr-rule-list-first-top: -15px !default;
$qrybldr-collapse-rule-padding: 0 14p !default;
$qrybldr-multi-maxwidth: 200p !default;
$qrybldr-device-multi-maxwidth: 100 !default;
$qrybldr-btn-left: 0 !default;
$qrybldr-touch-btn-left: 0 !default;
$qrybldr-collapse-font-size: 20px !default;
$qrybldr-collapse-padding: 5px !default;
$qrybldr-collapse-box-shadow: -1px 1px 4px 0 rgba($shadow, .12) !default;
$qrybldr-collapse-brdr-color: rgba($grey-black, .12) !default;
$qrybldr-collapse-txtarea-margin: 8px !default;
$qrybldr-brdr-radius: 0 !default;
$qrybldr-summary-line-height: 1.5em !default;
$qrybldr-smrytxt-font-size: 14px !default;
$qrybldr-bigger-smrytxt-font-size: 16px !default;
$qrybldr-spinner-right: 5px !default;
$qrybldr-spinner-left: auto !default;
$qrybldr-rtl-spinner-right: auto !default;
$qrybldr-rtl-spinner-left: 5px !default;
@include export-module('query-builder-material-icons') {
  .e-query-builder {
    & .e-collapse-rule::before {
      content: '\e907';
          }
       }
    }

@include export-module('querybuilder-layout') {
  .e-query-builder {
    border: $qrybldr-brdr;
    border-radius: $qrybldr-brdr-radius;
    height: $qrybldr-height;
    width: $qrybldr-width;

    & .e-multiselect .e-qb-spinner .e-spinner-inner {
      left: $qrybldr-spinner-left;
      right: $qrybldr-spinner-right;
    }

    &.e-rtl {
      & .e-multiselect .e-qb-spinner .e-spinner-inner {
        left: $qrybldr-rtl-spinner-left;
        right: $qrybldr-rtl-spinner-right;
      }

      &.e-bigger {
        &.e-device .e-group-body .e-rule-container .e-rule-delete,
        & .e-group-body .e-rule-container.e-vertical-mode .e-rule-delete {
          padding-left: $qrybldr-touch-btn-left;
        }
      }

      &.e-device .e-group-body .e-rule-container .e-rule-value-delete,
      & .e-group-body .e-rule-container.e-vertical-mode .e-rule-value-delete {
        text-align: $qrybldr-field;
      }

      &.e-device .e-group-body .e-rule-container .e-rule-delete,
      & .e-group-body .e-rule-container.e-vertical-mode .e-rule-delete {
        padding-left: $qrybldr-btn-left;
      }

      & .e-group-header {
        & .e-group-action .e-btn {
          margin-left: $qrybldr-group-container-margin-left;
          margin-right: $group-action-margin;
            }
        }

      & .e-horizontal-mode .e-rule-delete {
        margin-left: $qrybldr-group-container-margin-left;
        margin-right: $ruledelete-margin;
          }

      & .e-group-body {
        padding-left: $qrybldr-group-container-margin-left;
        padding-right: $groupbody-paddingleft;
        }

      & .e-rule-list>::before {
        border-width: $qrybldr-rule-list-rtl-before-border;
     }

      & .e-rule-list > .e-group-container:first-child {
        margin-top: 0;
        }

      & .e-rule-list>::after,
      & .e-rule-list>::before {
        right: $qrybldr-rule-list-first-right;
    }

      & .e-rule-list>::after {
        border-width: $qrybldr-rule-list-rtl-after-border;
     }

      & .e-rule-list .e-group-container::before {
        right: $qrybldr-grpcon-brder-left;
    }

      & .e-rule-list > .e-group-container {
        padding-right: $qrybldr-group-container-margin-left;
    }
    }

    & .e-group-container,
    & .e-rule-container {
      position: $qrybldr-posn-relative;
    }

    & .e-rule-list>:first-child::before {
      top: $qrybldr-rule-list-first-top;
    }

    & .e-rule-list>:last-child::after {
      display: $qrybldr-button-hide;
    }

    & .e-rule-list>::before {
      border-width: $qrybldr-rule-list-before-border;
      height: $qrybldr-rule-list-height;
      top: $qrybldr-rule-list-before-top;
    }

    & .e-rule-list>::after,
    & .e-rule-list>::before {
      border-style: $qrybldr-rule-list-border-style;
      content: '';
      left: $qrybldr-rule-list-first-left;
      position: $vrmode-ruledlt-mrgnpos;
      width: $qrybldr-nav-width;
    }

    & .e-rule-list>::after {
      border-width: $qrybldr-rule-list-after-border;
      height: $qrybldr-rule-list-after-height;
      top: $qrybldr-rule-list-top;
    }

    & .e-rule-list > .e-rule-container::before {
      height: $after-border-height;
    }

    & .e-rule-list > .e-rule-container:not(:first-child)::before {
      height: $after-ruleborder-height;
      }

    & .e-rule-list > .e-rule-container::after {
      height: $qrybldr-rule-container-after-height;
      top: $qrybldr-rule-container-after-top;
    }

    & .e-rule-list > .e-group-container:first-child {
      margin-top: 0;
    }

    & .e-rule-list .e-group-container::before {
      left: $qrybldr-grpcon-brder-left;
    }

    & .e-rule-list .e-group-container::after {
      left: $qrybldr-grpcon-aftrbrder-left;
      }

    & .e-group-header {

      & .e-group-action .e-btn {
        margin-left: $group-action-margin;
      }

      & .e-btn-group {
        border: $qrybldr-btngrp-brdr;
        box-shadow: $qrybldr-btngrp-shadow;
        display: $qrybldr-btngroup-display;
      }

      & .e-group-action {
        display: $qrybldr-device-diaplay;
        margin-top: $group-action-mrgntop;
      }

      & .e-dropdown-btn.e-add-btn,
      .e-deletegroup {
        margin-bottom: $qrybldr-add-mrgn-btm;
      }

      & button.e-button-hide {
        display: $qrybldr-button-hide;
      }

      &.e-btn.e-small.e-round {
        box-shadow: $ruledelete-shadow;
         }
    }

    & .e-rule-list .e-group-container {
      margin-left: $qrybldr-group-container-margin-left;
      margin-top: $qrybldr-group-container-margin-top;
      width: $qrybldr-rulelist-grcon-width;
    }

    & .e-rule-list {
      padding: $qrybldr-rulelist;
      padding-bottom: 0;
    }

    & .e-group-container {
      padding: $grpcon-padding;
    }

    & .e-rule-container {
      border: $qrybldr-rule-border;
      border-radius: $qrybldr-brdr-radius;
    }

    & .e-rule-list > .e-group-container {
      padding: 0;
      padding-bottom: $grpcon-padding;
    }

    & .e-group-container .e-rule-list > .e-group-container {
      padding-bottom: 0;
    }

    & .e-group-body {
      padding-left: $groupbody-paddingleft;

      & .e-rule-container {
        box-shadow: $rule-boxshadow;
        height: $rulecon-height;
        margin-top: $qrybldr-rulecont-margin;
        padding-right: $hrmode-ruledlt-mrgn;

        &.e-prev-joined-rule {
          border-bottom: 0;
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
        }

        &.e-joined-rule {
          border-top-left-radius: 0;
          border-top-right-radius: 0;
          border-top-style: $qrybldr-rule-list-border-style;
          border-top-width: 2px;
          margin-top: 0;
        }

        &.e-separate-rule {
          margin-top: $grpcon-padding;
        }

        & .e-rule-filter {
          padding: $rulecon-padding;
          width: $qrybldr-width;
        }

        & .e-rule-value .e-control-wrapper.e-numeric:not(:first-child),
        & .e-rule-value .e-control-wrapper.e-date-wrapper:not(:first-child),
        & .e-rule-value .e-control-wrapper.e-input-group:not(:first-child) {
          float: $qrybldr-rulelist-grcon-float;
          margin-top: $group-action-margin;
        }

        & .e-rule-value .e-multi-select-wrapper {
          min-width: $qrybldr-multi-width;
        }

        & .e-rule-value .e-multiselect,
        & .e-rule-value .e-multi-select-wrapper {
          max-width: $qrybldr-multi-maxwidth;
        }

        & .e-operator,

        & .e-value {
          padding: $rulecon-padding;

          & .e-radio-wrapper {
            margin-right: $radio-wrapper-margin;
        }
        }
       }

      & .e-horizontal-mode .e-rule-delete {
        display: $qrybldr-device-diaplay;
        margin-left: $ruledelete-margin;
      }

      & .e-rule-container button.e-button-hide {
        display: $qrybldr-button-hide;
      }

      & .e-horizontal-mode .e-rule-filter,
      & .e-horizontal-mode .e-rule-operator,
      & .e-horizontal-mode .e-rule-value,
      & .e-horizontal-mode .e-rule-value-delete {
        display: $qrybldr-device-diaplay;
      }

      & .e-rule-container.e-vertical-mode .e-rule-delete {
        margin-bottom: $grpcon-padding;
        padding-right: $device-rulecon-right-padding;
        right: 0;
      }

      & .e-rule-field,
      & .e-rule-delete {
        &.e-btn.e-small.e-round {
          box-shadow: $ruledelete-shadow;
        }
      }

      & .e-vertical-mode .e-removerule.e-rule-delete {
        box-shadow: $ruledelete-shadow;
        right: 0;
      }

    }

    & .e-dropdown-btn {
      box-shadow: $rule-boxshadow;
    }

    &.e-device .e-group-body .e-rule-container .e-rule-filter {
      padding: $device-rulecon-padding;
    }

    &.e-device .e-removerule.e-rule-delete {
      box-shadow: $ruledelete-shadow;
      }

    &.e-device .e-group-body .e-rule-container .e-rule-value .e-multiselect,
    &.e-device .e-group-body .e-rule-container .e-rule-value .e-multi-select-wrapper {
      max-width: $qrybldr-device-multi-maxwidth;
    }

    &.e-device .e-group-body .e-rule-container .e-rule-value-delete,
    & .e-group-body .e-rule-container.e-vertical-mode .e-rule-value-delete {
      text-align: $qrybldr-rulelist-grcon-float;
    }

    & .e-delete-icon::before {
      content: $qrybldr-delete-icon;
    }

    & .e-edit-rule.e-btn.e-small {
      box-shadow: $ruledelete-shadow;
      }

    & .e-edit-rule {
      right: 0;
    }

    & .e-collapse-rule {
      border: $qrybldr-brdr;
      border-right: 0;
      border-top: 0;
      box-shadow: $qrybldr-collapse-box-shadow;
      font-size: $qrybldr-collapse-font-size;
      padding: $qrybldr-collapse-padding;
      position: $qrybldr-clspe-rule-pos;
      right: 0;
      top: 0;
        }

    & .e-summary-text {
      border-style: none;
      font-family: $font-family;
      font-size: $qrybldr-smrytxt-font-size;
      line-height: 1.5em;
      padding: $qrybldr-summary-padding;
      resize: none;
      width: $qrybldr-summary-text-width;
        }

    & .e-summary-btndiv {
      padding: $qrybldr-summary-btn-padding;
      text-align: $qrybldr-rulelist-grcon-float;
        }


    & .e-rule-list .e-rule-container.e-vertical-mode,
    &.e-device .e-rule-list .e-rule-container {
      & .e-rule-filter,
      & .e-operator,
      & .e-value,
      & .e-rule-value-delete  {
        padding: $device-rule-padding;
      }
    }
}

  .e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-inner.e-tip-top,
  .e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-outer.e-tip-top {
    border-bottom: $qrybldr-val-error-border;
  }

  .e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-outer.e-tip-bottom,
  .e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-inner.e-tip-bottom {
    border-top: $qrybldr-val-error-border;
  }

  .e-dropdown-popup {

    & .e-addgroup {
      float: $qrybldr-rulelist-grcon-float;
    }

    & ul .e-item.e-button-hide {
      display: $qrybldr-button-hide;
    }

  }

  .e-addrule.e-add-icon::before,
  .e-addgroup.e-add-icon::before,
  .e-query-builder .e-add-icon::before {
    content: $qrybldr-add-icon;
    }

  .e-query-builder.e-device,
  .e-bigger.e-query-builder,
  .e-bigger .e-query-builder {
    & .e-group-container  {
      padding: $device-rulecon-padding;
    }

    & .e-rule-list > .e-group-container {
      padding: 0;
    }

    & .e-rule-list > .e-rule-container:not(:first-child)::before {
      height: $biggerafter-ruleborder-height;
    }

    & .e-rule-list > .e-group-container:first-child {
      margin-top: 0;
    }

    & .e-rule-list>::before {
      top: $qrybldr-bigger-rule-list-before-top;
    }

    & .e-group-action .e-btn {
      margin-left: $bigger-group-action-margin;
      }

    & .e-rule-list>:first-child::before {
      top: $bigger-rule-list-first-top;
      }

    & .e-rule-list {
      padding: $qrybldr-bigger-rulelist;
      padding-bottom: 0;
    }

    & .e-rule-list .e-group-container {
      margin-top: $device-rulecon-padding;
    }

    & .e-group-body {
      padding-left: $bigger-groupbody-paddingleft;

      & .e-rule-container {
        margin-top: $qrybldr-rulecont-margin;
        padding-right: $bigger-hrmode-ruledlt-mrgn;
    }

      & .e-rule-container.e-vertical-mode {
        width: auto;
      }

      & .e-rule-container.e-separate-rule {
        margin-top: $bigger-group-action-margin;
      }

      & .e-rule-delete,
      & .e-rule-container.e-vertical-mode .e-rule-delete {
        margin-bottom: $device-rulecon-padding;
        padding-right: $device-rulecon-right-padding;
        right: 0;
        }

      & .e-rule-container.e-horizontal-mode .e-rule-delete {
        margin-bottom: 0;
        }

      & .e-horizontal-mode .e-rule-delete {
        display: $qrybldr-device-diaplay;
        margin-left: $bigger-ruledelete-marginleft;
        }

      & .e-horizontal-mode .e-rule-filter,
      & .e-horizontal-mode .e-rule-operator,
      & .e-horizontal-mode .e-rule-value,
      & .e-horizontal-mode .e-rule-value-delete {
        display: $qrybldr-device-diaplay;
    }

      & .e-rule-field,
      & .e-rule-delete {
        &.e-btn.e-small.e-round {
          box-shadow: $ruledelete-shadow;
            }
        }
      }

    & .e-summary-text {
      font-size: $qrybldr-bigger-smrytxt-font-size;
      line-height: $qrybldr-summary-line-height;
      padding: $qrybldr-bigger-summary-padding;
    }

    & .e-summary-btndiv {
      padding: $qrybldr-bigger-summary-btn-padding;
      text-align: $qrybldr-rulelist-grcon-float;
    }

    }

  .e-device .e-rule-value {
    width: $qrybldr-device-value-width;
    }

  .e-bigger .e-group-body .e-rule-container {
    & .e-rule-filter,
    & .e-operator,
    & .e-value {
      padding: $bigger-rulecon-padding;
      }
  }
}
@include export-module('querybuilder-theme') {
  .e-query-builder {
    background-color: $qrybldr-bg-color;
    border-color: $qrybldr-brdr-color;

    & .e-group-header .e-btn-group {
      border-color: $qrybldr-brdr-color;
    }

    & .e-group-container {
      border-color: $groupborder-color;
    }

    & .e-rule-container {
      background-color: $groupfill-bgcolor;
      border-color: $groupborder-color;
    }

    & .e-rule-container.e-joined-rule {
      border-top-color: $qrybldr-rule-list-border-color;
    }

    & .e-rule-list .e-group-container {
      background-color: $qrybldr-bg-color;
    }

    & .e-rule-list>::after,
    & .e-rule-list>::before {
      border-color: $qrybldr-rule-list-border-color;
    }

    & .e-btn-group input:checked + label.e-btn {
      background: $qrybldr-btngroup-active-bgcolor;
      border-color: $qrybldr-btngroup-active-bgcolor;
      color: $qrybldr-btngroup-active-color;
        }

    & .e-btn-group input + label.e-btn,
    & .e-group-action .e-btn,
    & .e-removerule.e-btn.e-round,
    & .e-removerule.e-btn.e-round:hover {
      @if $skin-name == 'bootstrap4' {
        background: $qrybldr-btngroup-bgcolor;
        border-color: $qrybldr-brdr-color;
        color: $qrybldr-btngroup-color;
        }
    }

    & .e-removerule.e-btn.e-round {
      background-color: $groupfill-color;
      @if $skin-name == 'bootstrap4' {
        background-color:  $qrybldr-btngroup-bgcolor;
      }
    }

    & .e-summary-content textarea {
      background-color: $qrybldr-bg-color;
      color: $qrybldr-color;
    }

    & .e-collapse-rule {
      background-color: $qrybldr-bg-color;
      border-color: $qrybldr-collapse-brdr-color;
      color: $qrybldr-color;

      &:focus,
      &:active,
      &:hover {
        background-color: $qrybldr-brdr-color;
     }

    }
    }
}

.e-tooltip-wrap.e-querybuilder-error,
.e-control.e-tooltip-wrap.e-popup.e-querybuilder-error {
  background-color: $qrybldr-val-error-bg-color;
  border-color: $qrybldr-val-error-bg-color;
  }

.e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-inner.e-tip-top,
.e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-outer.e-tip-top {
  border-bottom-color: $qrybldr-val-error-bg-color;
  color: $qrybldr-val-error-bg-color;
  }

.e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-outer.e-tip-bottom,
.e-tooltip-wrap.e-querybuilder-error .e-arrow-tip-inner.e-tip-bottom {
  border-top-color: $qrybldr-val-error-bg-color;
  color: $qrybldr-val-error-bg-color;
  }

.e-tooltip-wrap.e-querybuilder-error .e-tip-content,
.e-tooltip-wrap.e-querybuilder-error .e-tip-content label {
  color: $qrybldr-val-error-color;
  }